<?xml version="1.0"?>
<project name="Ecomail Flexibee client" basedir="." default="check">

	<target name="check">
		<exec command="php vendor/bin/phpcs --standard=ruleset.xml --extensions=php --encoding=utf-8 src tests" passthru="true" checkreturn="true"/>
		<exec command="php -d memory_limit=4G vendor/bin/phpstan analyse src/ tests/ -l 7" checkreturn="true" passthru="true"/>
		<exec command="vendor/bin/phpunit tests" checkreturn="true" passthru="true"/>
	</target>
	<target name="phpcsfix">
		<exec command="vendor/bin/phpcbf --standard=ruleset.xml --extensions=php --tab-width=4 -sp src tests" checkreturn="true" passthru="true"/>
	</target>
</project>
